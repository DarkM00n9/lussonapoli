<section class="hero-carousel">
  {% for i in (1..2) %}
    {% capture image_id %}carousel_image_{{ i }}{% endcapture %}
    {% capture desc_id %}carousel_image_desc_{{ i }}{% endcapture %}
    {% if section.settings[image_id] != blank %}
      <img src="{{ section.settings[image_id] | img_url: '1024x' }}" alt="Test Image">
      <div class="carousel-slide{% if forloop.first %} active{% endif %}" style="background-image: url('{{ section.settings[image_id] | img_url: '1024x' }}');">
        <p>{{ section.settings[desc_id] }}</p>
      </div>
    {% endif %}
  {% endfor %}
</section>

<script>
  document.addEventListener("DOMContentLoaded", function() {
    var slides = document.querySelectorAll('.carousel-slide');
    var currentIndex = 0;
    if (slides.length > 1) {  
      setInterval(function() {
        slides[currentIndex].classList.remove('active');
        currentIndex = (currentIndex + 1) % slides.length;
        slides[currentIndex].classList.add('active');
      }, {{ section.settings.carousel_speed | times: 1000 }});
    }
  });
</script>

<style>
  .hero-carousel {
    position: relative;
    width: 100%;
    height: 300px;
    border: 2px red solid;
  }
  .carousel-slide {
    width: 100%;
    height: 100%;
    background-size: cover;
    background-position: center;
    position: absolute;
    top: 0;
    left: 0;
    display: none;
  }
  .carousel-slide.active {
    display: block;
  }
</style>
